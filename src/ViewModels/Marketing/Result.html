<template>
  <style>
    .search-input {
    width: 76% !important;
}
    </style>
    <h3 style="margin-bottom: 30px; margin-left: 19px;"><b>CẤU HÌNH KẾT QUẢ QUAY</b></h3>

  <section if.bind="!isNoAccess">

    
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Tìm kiếm</h3>
      </div>
      <div class="panel-body">
        <form class="form-inline form-filter" role="form">
          <div class="row">
            <div class="form-group col-md-4">
              <input type="text" class="form-control search-input" style="float: left; width: 65% !important" ref="refOrderCodeSearch" placeholder="Nhập Mã Order để tìm kiếm">
              <button type="submit" class="btn btn-success" style="float: right; width: 30% !important" click.delegate="SearchByOrderCode()">
                  <span class="glyphicon glyphicon-search"></span> Tìm kiếm
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="table-responsive">
      <table id="tableConditions" class="table table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Mã Order</th>
            <th>Mã Chi nhánh</th>
            <th>Tên chi nhánh</th>
            <th>Quà tặng</th>
            <th>Ngày tạo</th>
            <th>Tình trạng</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody ref="ResultData" items.bind="ListResults" > 
          <tr repeat.for="result of ResultData.items">
            <td>${result.Id}</td>
            <td>${result.OrderCode}</td>
            <td>${result.BranchCode}</td>
            <td>${result.BranchCode | branchName: ListBranchs}</td>
            <td>${result.GiftId | giftName: ListGifts}</td>
            <td>${result.CreatedDate | dateFormat:'DD/MM/YYYY hh:mm:ss A'}</td>
            <td>${result.Status | status}</td>
            <td>
              <button type="button" class="btn btn-danger btn-xs" click.delegate="$parent.SetReplay(result)" disabled.bind="isViewOnly">
                <span class="glyphicon glyphicon-edit"></span> Set Replay
              </button>
            </td>
          </tr>
          <tr if.bind="!ListResults || ResultData.items.length <= 0">
            <td colspan="9">
              Không tìm thấy kết quả nào.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <section if.bind="isNoAccess">
    <div class="form-group">
      <span>Bạn không có quyền truy cập trang này.</span>
    </div>
  </section>
</template>