<template>
  <section>
    <h3 style="margin-bottom: 30px;">
      <b>QUẢN LÝ ĐỐI TÁC</b>
    </h3>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Lọc</h3>
      </div>
      <div class="panel-body">
        <form class="form-inline"
              role="form">
          <div class="row">
            <div class="form-group col-md-2">
              <label for="filterbsnessID">Lọc thông tin đối tác</label>
              <br />
              <select class="form-control"
                      id="filterbsnessID"
                      ref="filterbsnessID">
                <option value="">Tất cả</option>
                <option repeat.for="item of listBusiness"
                        value.bind="item.BusinessId">${item.Name}</option>
              </select>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="form-group">
      <button class="btn btn-primary"
              click.delegate="addBusiness()"
              type="button">
      <span class="glyphicon glyphicon-plus"></span>Tạo mới đối tác</button>
    </div>
    <div class="table-responsive">
      <table class="table table-bordered"
             id="tableBanner">
        <thead>
          <tr>
            <th>Stt</th>
            <th>Mã chương trình</th>
            <th>Tài khoản</th>
            <th>Tên</th>
            <th>Ngày Tạo</th>
            <th>Ành</th>
            <th>Mô tả</th>
            <th>vị trí</th>
            <th>Trạng thái</th>
            <th></th>
          </tr>
        </thead>
        <tbody items.bind="business | filterBusiness:filterbsnessID.value"
               ref="mydata">
          <tr repeat.for="item of mydata.items | takeFromTo: (current-1)* (itemperpage):current * (itemperpage)">
            <td>${(current-1)*10+$index+1}</td>
            <td>${item.Business_id}</td>
            <td>${item.User}</td>
            <td>${item.Name}</td>
            <td>${item.Date_reg}</td>
            <td></td>
            <td>${item.Descriptions}</td>
            <td>${item.Position}</td>
            <td>${item.Status}</td>
            <td>
              <button class="btn btn-info btn-xs"
                      click.delegate="$parent.editToBusiness(item)"
                      type="button">
              <span class="glyphicon glyphicon-edit"></span>Sửa</button>
              <button class="btn btn-info btn-xs"
                      click.delegate="$parent.deleteBusiness(item)"
                      type="button">
              <span class="glyphicon glyphicon-edit"></span>Xóa</button>
            </td>
          </tr>
          <tr if.bind="mydata.items.length &gt; 0">
            <td colspan="11">
              <pagination current-page.bind="current"
                          item-per-page.bind="itemperpage"
                          page-size.bind="pagesize"
                          total.bind="mydata.items.length"></pagination>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <style type="text/css">.filter-margin-left { margin-left: 30px; } #tableBanner img { cursor: -moz-zoom-in; cursor: -webkit-zoom-in; cursor: zoom-in; } #tableBanner button { margin-top: 4px; } .modal { text-align: center; padding: 0 !important; }
  .modal:before { content: ''; display: inline-block; height: 100%; vertical-align: middle; margin-right: -4px; } .modal-dialog { display: inline-block; text-align: left; vertical-align: middle; } span.select2-container { width: 70% !important; }
  .select2-container .select2-selection--single { height: 34px !important; } .select2-container--default .select2-selection--single { border: 1px solid #ccc !important; }</style>
</template>
